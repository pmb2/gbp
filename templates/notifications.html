<html><head><base href="." /><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Knowledge Base - GBP Automation Pro</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fullcalendar/core@6.1.8/main.min.css">
<link rel="stylesheet" href="{{ url_for('static', filename='css/notifications.css') }}">
</head>
<body>
<div class="dashboard">
  <aside class="sidebar" id="sidebar">
    <div class="logo">GBP Automation Pro</div>
    <nav>
      <a href="{{ url_for('overview') }}" class="nav-item">
        <i class="fas fa-home"></i>
        Overview
      </a>
      <a href="{{ url_for('content_management') }}" class="nav-item">
        <i class="fas fa-file-alt"></i>
        Content Management
      </a>
      <a href="{{ url_for('knowledge_base') }}" class="nav-item">
        <i class="fas fa-book"></i>
        Knowledge Base
      </a>
      <a href="{{ url_for('analytics') }}" class="nav-item">
        <i class="fas fa-chart-bar"></i>
        Analytics
      </a>
      <a href="{{ url_for('notifications') }}" class="nav-item">
        <i class="fas fa-bell"></i>
        Notifications
      </a>
    </nav>
    <div class="user-profile">
      <img src="" alt="User avatar" class="avatar" id="userAvatar">
      <div class="user-info">
        <div class="username" id="username"></div>
        <div class="credits" id="userCredits"></div>
      </div>
    </div>
    <div class="sidebar-toggle" id="sidebarToggle">
      <i class="fas fa-chevron-left" id="toggleArrow"></i>
    </div>
  </aside>
  
  <main class="main-content">
    <div class="kb-overview">
      <h2>Knowledge Base Overview</h2>
      <div class="kb-stats">
        <div class="stat-card">
          <i class="fas fa-file"></i>
          <div class="stat-info">
            <div class="stat-value" id="totalDocuments">0</div>
            <div class="stat-label">Total Documents</div>
          </div>
        </div>
        <div class="stat-card">
          <i class="fas fa-network-wired"></i>
          <div class="stat-info">
            <div class="stat-value" id="vectorCount">0</div>
            <div class="stat-label">Vector Embeddings</div>
          </div>
        </div>
        <div class="stat-card">
          <i class="fas fa-brain"></i>
          <div class="stat-info">
            <div class="stat-value" id="llmQueries">0</div>
            <div class="stat-label">LLM Queries</div>
          </div>
        </div>
      </div>
    </div>

    <div class="kb-grid">
      <div class="vector-graph-container">
        <h3>Knowledge Graph</h3>
        <div id="vectorGraph"></div>
        <div class="graph-legend">
          <div class="legend-item">
            <span class="dot document"></span> Documents
          </div>
          <div class="legend-item">
            <span class="dot concept"></span> Concepts
          </div>
          <div class="legend-item">
            <span class="dot relation"></span> Relations
          </div>
        </div>
      </div>

      <div class="file-management">
        <h3>Document Management</h3>
        <div class="upload-zone" id="uploadZone">
          <i class="fas fa-cloud-upload-alt"></i>
          <p>Drag & drop files here to upload</p>
          <p>Supported formats: PDF, DOCX, TXT, CSV, JSON, Images</p>
          <input type="file" id="fileInput" multiple />
          <button class="upload-btn">Select Files</button>
        </div> <!-- Closing the upload-zone div -->
        </div>
        
        <div class="file-browser">
          <div class="file-header">
            <div class="search-bar">
              <input type="text" placeholder="Search documents...">
              <i class="fas fa-search"></i>
            </div>
            <div class="view-options">
              <i class="fas fa-th-large active"></i>
              <i class="fas fa-list"></i>
            </div>
          </div>
          <div class="file-grid" id="fileGrid">
            <!-- Files will be populated here -->
          </div>
        </div>
      </div>
    </div>

    <div class="company-info">
      <div class="info-section">
        <h3>Company Overview</h3>
        <div class="info-content" id="companyOverview">
          <!-- Company overview content -->
        </div>
      </div>
      <div class="info-section">
        <h3>Operations News</h3>
        <div class="news-feed" id="operationsNews">
          <!-- News items -->
        </div>
      </div>
    </div>

    <div class="notifications-content" style="display: none;">
      <div class="notifications-header">
        <h2>Notifications</h2>
        <div class="notification-actions">
          <button class="action-btn" onclick="markAllRead()">
            <i class="fas fa-check-double"></i> Mark All Read
          </button>
          <button class="action-btn" onclick="archiveAll()">
            <i class="fas fa-archive"></i> Archive All
          </button>
        </div>
      </div>

      <div class="notifications-grid">
        <!-- Urgent Notifications -->
        <div class="notification-group urgent">
          <h3><i class="fas fa-exclamation-circle"></i> Urgent (Next 24 Hours)</h3>
          <div class="notification-list" id="urgentNotifications">
            <!-- Urgent notifications will be populated here -->
          </div>
        </div>

        <!-- Important Notifications -->
        <div class="notification-group important">
          <h3><i class="fas fa-clock"></i> Important (This Week)</h3>
          <div class="notification-list" id="importantNotifications">
            <!-- Important notifications will be populated here -->
          </div>
        </div>

        <!-- Regular Notifications -->
        <div class="notification-group regular">
          <h3><i class="fas fa-bell"></i> Regular Updates</h3>
          <div class="notification-list" id="regularNotifications">
            <!-- Regular notifications will be populated here -->
          </div>
        </div>
      </div>
    </div>
  </main>
</div>

<script src="https://cdn.jsdelivr.net/npm/@fullcalendar/core@6.1.8/main.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@fullcalendar/daygrid@6.1.8/main.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@fullcalendar/interaction@6.1.8/main.min.js"></script>
<script src="https://d3js.org/d3.v7.min.js"></script>
<script src="{{ url_for('static', filename='js/notifications.js') }}"></script>
</body></html>
